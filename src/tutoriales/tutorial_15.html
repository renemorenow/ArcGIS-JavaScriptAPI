<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Ejemplo 15: Generar un mapa estático (en PNG)</title>
    <meta name="description" content="Este ejemplo <strong>puede tarde un poco más en cargar</strong>. Utiliza la clase <a href='https://github.com/esri-es/Static-Maps-API-ArcGIS'>Static-Maps-API-ArcGIS</a> y <a href='https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task'>el servicio de impresión de ArcGIS</a> para generar imágenes estáticas." />

    <script src="js/tutorial_15.js"></script>
    <!-- <script src="./js/staticmap.js"></script> -->

    <link rel="stylesheet" href="https://js.arcgis.com/3.14/esri/css/esri.css">
    <script src="https://js.arcgis.com/3.14/"></script>

    <script type="text/javascript">
        require([
            "esriES/staticmap",
            "dojo/domReady!"
        ], function (StaticMap) {
            staticMap = new StaticMap();

            var options = {
                basemap: "streets",
                zoom: 3,
                address: "Balcon de Europa, Nerja",
                markers: [
                    {
                        latitude: 36.744426,
                        longitude: -3.875497,
                        color: "orange",
                        yoffset: 10
                    },
                    {
                        latitude: 36.745053,
                        longitude: -3.877257,
                        color: "purple"
                    }
                ],
                size: [350, 250],
                format: "PNG32"
            };

            staticMap.getImage(options).then(function (imageURL) {
                document.getElementById("staticImage").src = imageURL;
            });

        });
    </script>
</head>

<body>
    <img src="" id="staticImage">
</body>

</html>